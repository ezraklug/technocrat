// === MEDIA === //

// Emoticons
.page-content,
.entry-content,
.comment-content {
  img.wp-smiley {
    border: none;
    display: none; // :(
    margin-bottom: 0;
    margin-top: 0;
    padding: 0;
  }
}



// Images
.site-header,
.entry-content,
.comment-content,
.widget {
  img {
    max-width: 100%; // Fluid images for posts, comments, and widgets
  }
}
.site-header img,
.entry-content img,
.comment-content img[height],
img[class*="align"],
img[class*="wp-image-"] {
  height: auto; // Make sure images with WordPress-added height and width attributes are scaled correctly
}
.site-header img,
.entry-content img,
img.size-full {
  max-width: 100%;
  width: auto; // Prevent stretching of full-size images with height and width attributes in IE8
}



// Image Captions
.wp-caption {
  border: 1px solid $c-caption-border;
  margin-bottom: c-spacing();
  max-width: 100%;
  img[class*="wp-image-"] {
    display: block;
    margin: 1.2% auto 0;
    max-width: 98%;
  }
  .wp-caption-text {
    margin: 0;
    text-align: center;
  }
}



// Galleries
.gallery {
	@extend %clearfix;
	margin-bottom: c-spacing();

	.gallery-item {
		float: left;

		.gallery-icon {
			a {
        display: block;
      }
			img {
				border: none;
				height: auto;
				margin-bottom: 0;
			}
		}
		.gallery-caption {
			margin: 0;
			text-align: center;
		}
	}
}
// Galleries (from _s; looks like this stuff could stand to get cleaned up a bit)
.site-main .gallery {
  margin-bottom: c-spacing();
}
.gallery-caption {
}
.site-main .gallery a img {
  border: none;
  height: auto;
  max-width: 90%;
}
.site-main .gallery dd {
  margin: 0;
}
.site-main .gallery-columns-4 .gallery-item {
}
.site-main .gallery-columns-4 .gallery-item img {
}



@mixin gallery_column ( $margin: 2, $num: 4 ){
	.gallery-columns-#{$num} .gallery-item {
     width: ( 100% - $margin * ( $num - 1 ) ) / $num;
     margin-right: $margin;
  }
  	.gallery-columns-#{$num} .gallery-item:nth-of-type(#{$num}n - #{$num}) {
     margin-right: 0;
     clear: right;
  }
}

/* Fluid Gallery Columns
   works well if you remove the default gallery styling
   by adding the following to your functions.php
   add_filter( 'use_default_gallery_style', '__return_false' );
*/

@for $i from 2 through 9 {
	@include gallery_column( 2, $i );
}
