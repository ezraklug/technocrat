// ==== MEDIA ==== //

// == CAPTIONS == //
.wp-caption {
  @extend %spacer-below;
  max-width: 100%; // Keep wide captions from overflowing their containers
}
.wp-caption-text,
.entry-caption {
  @extend %clearfix-below;
  @include font-size($s-text-small);
  @include reverse-italics;
  color: $c-caption;
}



// == IMAGE METADATA == //
.image-info {
  @extend %spacer-above;
  @include rem('padding-top', $spacer, 1);
  border-top: $d-divider;
}
.image-description {
  @include font-size($s-text-small);
}



// == IMAGE LAYOUT == //

// Individual responsive images in posts, not comments; isolating these declarations from _content.scss reduces bloat
figure.wp-caption,
.entry-content p img {
  overflow: auto; // Without this the floats won't float
  &.alignleft {
    margin-right: percentage($spacer / $main-width);
  }
  &.alignright {
    margin-left: percentage($spacer / $main-width);
  }
  &.alignnone { // @TODO: fix known issue, aligncenter class not working on captioned images
    @extend %clearfix;
    margin-left: 0;
    margin-right: 0;
  }
}

// Grouping responsive partial-width images; borrows technique seen in _gallery.scss
.image-group {
  @extend %clearfix;
  @extend %spacer-below;
  figure.wp-caption {
    float: left;
    margin: 0 percentage($d-image-spacer / $main-width) percentage($d-image-spacer / $main-width) 0;
    overflow: hidden;
    position: relative;
    &.size-third,
    &.size-third-square {
      width: percentage(1/3) - percentage( ( ($d-image-spacer * 2) / $main-width) / 3);
      &:nth-of-type(3) {
        margin-right: 0;
      }
      &:nth-of-type(3+1) {
        clear: left;
      }
    }
    &.size-half,
    &.size-half-square {
      width: percentage(1/2) - percentage( ($d-image-spacer / $main-width) / 2);
      &:nth-of-type(2) {
        margin-right: 0;
      }
      &:nth-of-type(2+1) {
        clear: left;
      }
    }
  }
}
