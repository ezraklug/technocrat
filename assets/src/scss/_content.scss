// ==== CONTENT ==== //

// Entry header
.entry-header {
  @extend %spacer-below;
  img.wp-post-image {
    @extend %spacer-below;
  }
  .entry-title {
    font-weight: normal;
    margin: 0;
  }
}



// Post contents
.site-content article {
  @include rem('margin-bottom', $spacer*3);
}

.entry-content,
.comment-content {
  @extend %clearfix;
  hyphens: auto; // Let autoprefix do the rest

  // Headers
  h1,h2,h3,h4,h5,h6 {
    @extend %spacer-above;
  }

  // Paragraphs
  p {
    @extend %spacer-below;
  }

  // Lists and definitions
  ol,
  ul,
  dl {
    @include rem('margin', 0 0 $spacer);
  }
  ul ul,
  ol ol,
  ul ol,
  ol ul,
  dl dl {
    margin-bottom: 0;
  }
  ul {
    list-style: disc outside;
    ul {
      list-style: circle;
    }
  }
  ol {
    list-style: decimal outside;
      ol {
      list-style: lower-alpha;
    }
  }
  li {
    @include rem('margin', 0 0 0 $spacer);
  }
  dl {
    @include rem('margin', 0 $spacer);
  }
  dd {
    @include rem('margin', 0 $spacer $spacer);
  }

  // Blockquote and quotations
  blockquote {
    @include text-box();
    @include font-sizer(24);
    font-style: italic;
    p {
      @include rem('padding-bottom', $spacer); // Padding is used instead of margins because of the blockquote background
      margin: 0;
      // Add opening and closing quotation marks to the blockquote element
      &:first-child::before {
        content: "\201C";
      }
      // Correctly adds quotation mark when footer or cite elements are present at the end of the blockquote
      &:nth-last-of-type(1)::after {
        content: "\201D";
      }
    }
    footer {
      @include font-sizer(16);
      @include rem('padding-bottom', $spacer);
      display: block;
      font-style: normal;
      text-align: right;
      &:before {
        content: "\2014\00a0"; // "\2015" is a "horizontal bar" or "quotation dash" meant to introduce a quotation, not a citation
      }
    }
    div > code,
    em > code,
    li > code,
    p > code,
    strong > code {
      @include font-sizer(20);
      @include highlight( darken($c-code-bg, 7) );
    }
  }
  q {
    quotes: none;
    &:before {
      content: "\201C";
    }
    &:after {
      content: "\201D";
    }
  }

  // Pre and code blocks
  pre {
    @include font-sizer(16);
    @include text-box();
    @include rem('padding-bottom', $spacer); // Needs to follow text-box
    color: $c-pre;
  }
  div > code,
  em > code,
  li > code,
  p > code,
  strong > code {
    @include font-sizer(16);
    @include highlight($c-code-bg);
    color: $c-code;
    line-height: 0;
  }
  a code {
    color: $c-link;
    line-height: 0;
  }

  // Tables and figures
  table {
    border-bottom: $divider;
    color: $c-table;
    @include rem('margin-bottom', $spacer, 1);
    width: 100%;
    caption {
      @include font-sizer(16);
      @include rem('margin', $spacer 0);
    }
  }
  th {
    @extend %small-headers;
  }
  td {
    @include font-sizer(14, 1);
    border-top: $divider;
  }

  // Media
  img {
    @include border-radius();
    display: block;
  }
  figure.wp-caption {
    overflow: auto; // Without this the floats won't float
  }
  figure.wp-caption,
  p img {
    // Responsive margins
    &.alignleft {
      margin-right: percentage($spacer/$content-width);
    }
    &.alignright {
      margin-left: percentage($spacer/$content-width);
    }
    &.alignnone {
      margin-left: 0;
      margin-right: 0;
    }
    // Responsive partial-width images rescued from _portfolio.scss
    &.size-third-width, // Compatibility with old Pendrell styling; may be removed on fresh installs
    &.size-medium-third,
    &.size-medium-third-cropped {
      width: percentage((1-(($spacer/$content-width)*2))/3); // 31.25%
      &.alignleft:nth-of-type(3) {
        margin-right: 0;
      }
    }
    &.size-half-width, // Compatibility with old Pendrell styling; may be removed on fresh installs
    &.size-medium-half,
    &.size-medium-half-cropped {
      width: percentage((1-(($spacer/$content-width)))/2); // 48.4375%
      &.alignleft:nth-of-type(2) {
        margin-right: 0;
      }
    }
    // Clearfix on the before pseudo-element
    & + p {
      &:before {
        content: "";
        display: table;
        clear: both;
      }
    }
  }

  embed,
  iframe,
  object,
  video {
    @extend %spacer-below;
  }
}



// Entry meta
.entry-meta {
  @extend %clearfix;
}
.entry-meta-main {
  @include font-sizer(14);
  @extend %clearfix;
  color: $c-meta;
  a {
    border-bottom: 1px solid lighten($c-meta, 13);
    color: darken($c-meta, 33);
    &:hover {
      color: $c-link-h;
      border-bottom: 1px solid lighten($c-link-h, 27);
    }
  }
}
.entry-meta-buttons {
  @include button-div();
}
.edit-link,
.leave-reply {
  @include rem('margin-top', $spacer/2);
}

// Hide last updated
.entry-meta-main {
  .last-updated {
    //display: none;
  }
}

// Hide author on single author blogs
.single-author {
  .by-author {
    //display: none;
  }
}

// Show the author in entry meta on pages
.page {
  .by-author {
    //display: inline;
  }
}
