// ==== MENU ==== //

// Inline menu; used in header and footer navigation; should be applied to ol or ul elements
.inline-menu {
  @include list-floated($spacer);
  margin-bottom: 0;
  li {
    @include font-header;
    font-weight: 300;
    white-space: nowrap;
  }
  .current-menu-item > a,
  .current-menu-ancestor > a,
  .current_page_item > a,
  .current_page_ancestor > a {
    @include ghost;
    font-weight: 200;
  }
  @media screen and (max-width: $break-medium) {
    > li:hover > ul {
      @include hide-visually; // Don't bother displaying submenus on small screens
    }
  }
}



// Header menu; applied to a ul element
.menu-header {
  @include font-size($s-menu-header-sm);
  @include list-nested;
  display: none;
  &.toggled {
    display: block;
  }
  @media screen and (min-width: $break-medium) {
    @include font-size($s-menu-header);
    border-bottom: $d-divider;
    display: block;
    width: 100%;

    // Primary menu items
    > li {
      @include rem('padding-bottom', $spacer/2, 1); // Padding list items rather than the whole list so submenus display properly

      // Styling specific to the first submenu
      > ul {
        margin-top: -$spacer/4; // Breaks vertical rhythm but gives a more natural look
        > li:first-child a {
          @include triangle; // Pseudo triangle on first submenu only
          border-color: $c-interface;
          &:hover {
            border-color: darken($c-sub-bg, 13); // Must match value below
          }
        }
      }

      // All submenus
      ul {
        @include border-radius;
        @include box-shadow-layered(2px 2px 4px rgba(64, 64, 64, .09), 0 -2px 2px rgba(64, 64, 64, .09) inset);
        background-color: $c-sub-bg;
        background-image: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, .3)); // A light touch
        background-repeat: repeat-x;
        border: $d-interface;
        li {
          &:first-child > a {
            @include border-radius(3px 3px 0 0);
          }
          &:last-child > a {
            @include border-radius(0 0 3px 3px);
          }
          &:only-of-type > a {
            @include border-radius;
          }
          a {
            @include font-size($s-sub);
            @include rem('padding', 0 $spacer/4);
            color: $c-sub;
            &:visited {
              color: $c-sub;
            }
            &:hover {
              @include box-shadow(0 -2px 4px rgba(64, 64, 64, .06) inset);
              background: darken($c-sub-bg, 13);
              color: $c-sub-h;
            }
            &:active {
              color: $c-sub-h;
            }
            &:focus {
              color: $c-sub-h;
            }
          }
          ul {
            margin-top: -1px; // Offset border
          }
        }
      }
    }
  }
}



// Footer menu
.menu-footer {
  @include link-stylist($c-menu-link, $c-menu-link, $c-menu-link-h, $c-menu-link, $c-menu-link, false);
  @include rem('padding-bottom', $spacer/2);
  @include rem('padding-top', $spacer/2, 1);
  border-top: $d-divider;
  li {
    @include font-size($s-menu-footer);
  }
  > li:hover > ul {
    @include hide-visually; // No submenus in the footer
  }
}
