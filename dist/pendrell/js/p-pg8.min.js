!function(e){"function"==typeof define&&define.amd?define("object"!=typeof document||"loading"!==document.readyState?[]:"html5-history-api",e):e()}(function(){function e(){}function t(e,n,i){var r=/(?:(\w+\:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/;if(null==e||""===e||n)e=n?e:b.href,(!S||i)&&(e=e.replace(/^[^#]*/,"")||"#",e=b.protocol.replace(/:.*$|$/,":")+"//"+b.host+$.basepath+e.replace(new RegExp("^#[/]?(?:"+$.type+")?"),""));else{var o=t(),a=y.getElementsByTagName("base")[0];!i&&a&&a.getAttribute("href")&&(a.href=a.href,o=t(a.href,null,!0));var s=o._pathname,l=o._protocol;e=""+e,e=/^(?:\w+\:)?\/\//.test(e)?0===e.indexOf("/")?l+e:e:l+"//"+o._host+(0===e.indexOf("/")?e:0===e.indexOf("?")?s+e:0===e.indexOf("#")?s+o._search+e:s.replace(/[^\/]+$/g,"")+e)}q.href=e;var c=r.exec(q.href),f=c[2]+(c[3]?":"+c[3]:""),u=c[4]||"/",p=c[5]||"",d="#"===c[6]?"":c[6]||"",h=u+p+d,g=u.replace(new RegExp("^"+$.basepath,"i"),$.type)+p;return{_href:c[1]+"//"+f+h,_protocol:c[1],_host:f,_hostname:c[2],_port:c[3]||"",_pathname:u,_search:p,_hash:d,_relative:h,_nohash:g,_special:g+d}}function n(){var e;try{e=m.sessionStorage,e.setItem(G+"t","1"),e.removeItem(G+"t")}catch(t){e={getItem:function(e){var t=y.cookie.split(e+"=");return t.length>1&&t.pop().split(";").shift()||"null"},setItem:function(e){var t={};(t[b.href]=P.state)&&(y.cookie=e+"="+_.stringify(t))}}}try{Q=_.parse(e.getItem(G))||{}}catch(t){Q={}}C(j+"unload",function(){e.setItem(G,_.stringify(Q))},!1)}function i(t,n,i,r){var o=0;i||(i={set:e},o=1);var a=!i.set,s=!i.get,l={configurable:!0,set:function(){a=1},get:function(){s=1}};try{T(t,n,l),t[n]=t[n],T(t,n,i)}catch(c){}if(!(a&&s||(t.__defineGetter__&&(t.__defineGetter__(n,l.get),t.__defineSetter__(n,l.set),t[n]=t[n],i.get&&t.__defineGetter__(n,i.get),i.set&&t.__defineSetter__(n,i.set)),a&&s))){if(o)return!1;if(t===m){try{var f=t[n];t[n]=null}catch(c){}if("execScript"in m)m.execScript("Public "+n,"VBScript"),m.execScript("var "+n+";","JavaScript");else try{T(t,n,{value:e})}catch(c){"onpopstate"===n&&(C("popstate",i=function(){D("popstate",i,!1);var e=t.onpopstate;t.onpopstate=null,setTimeout(function(){t.onpopstate=e},1)},!1),V=0)}t[n]=f}else try{try{var u=w.create(t);T(w.getPrototypeOf(u)===t?u:t,n,i);for(var p in t)"function"==typeof t[p]&&(u[p]=t[p].bind(t));try{r.call(u,u,t)}catch(c){}t=u}catch(c){T(t.constructor.prototype,n,i)}}catch(c){return!1}}return t}function r(e,t,n){return n=n||{},e=e===Y?b:e,n.set=n.set||function(n){e[t]=n},n.get=n.get||function(){return e[t]},n}function o(e,t,n){e in H?H[e].push(t):arguments.length>3?C(e,t,n,arguments[3]):C(e,t,n)}function a(e,t,n){var i=H[e];if(i){for(var r=i.length;r--;)if(i[r]===t){i.splice(r,1);break}}else D(e,t,n)}function s(t,n){var r=(""+("string"==typeof t?t:t.type)).replace(/^on/,""),o=H[r];if(o){if(n="string"==typeof t?n:t,null==n.target)for(var a=["target","currentTarget","srcElement","type"];t=a.pop();)n=i(n,t,{get:"type"===t?function(){return r}:function(){return m}});V&&(("popstate"===r?m.onpopstate:m.onhashchange)||e).call(m,n);for(var s=0,l=o.length;l>s;s++)o[s].call(m,n);return!0}return R(t,n)}function l(){var e=y.createEvent?y.createEvent("Event"):y.createEventObject();e.initEvent?e.initEvent("popstate",!1,!1):e.type="popstate",e.state=P.state,s(e)}function c(){U&&(U=!1,l())}function f(e,n,i,r){if(S)M=b.href;else{0===F&&(F=2);var o=t(n,2===F&&-1!==(""+n).indexOf("#"));o._relative!==t()._relative&&(M=r,i?b.replace("#"+o._special):b.hash=o._special)}!N&&e&&(Q[b.href]=e),U=!1}function u(e){var n=M;if(M=b.href,n){z!==b.href&&l(),e=e||m.event;var i=t(n,!0),r=t();e.oldURL||(e.oldURL=i._href,e.newURL=r._href),i._hash!==r._hash&&s(e)}}function p(e){setTimeout(function(){C("popstate",function(e){z=b.href,N||(e=i(e,"state",{get:function(){return P.state}})),s(e)},!1)},0),!S&&e!==!0&&"location"in P&&(g(k.hash),c())}function d(e){for(;e;){if("A"===e.nodeName)return e;e=e.parentNode}}function h(e){var n=e||m.event,i=d(n.target||n.srcElement),r="defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1;if(i&&"A"===i.nodeName&&!r){var o=t(),a=t(i.getAttribute("href",2)),s=o._href.split("#").shift()===a._href.split("#").shift();s&&a._hash&&(o._hash!==a._hash&&(k.hash=a._hash),g(a._hash),n.preventDefault?n.preventDefault():n.returnValue=!1)}}function g(e){var t=y.getElementById(e=(e||"").replace(/^#/,""));if(t&&t.id===e&&"A"===t.nodeName){var n=t.getBoundingClientRect();m.scrollTo(x.scrollLeft||0,n.top+(x.scrollTop||0)-(x.clientTop||0))}}function v(){var e=y.getElementsByTagName("script"),o=(e[e.length-1]||{}).src||"",a=-1!==o.indexOf("?")?o.split("?").pop():"";a.replace(/(\w+)(?:=([^&]*))?/g,function(e,t,n){$[t]=(n||"").replace(/^(0|false)$/,"")}),C(j+"hashchange",u,!1);var s=[Y,k,W,m,K,P];N&&delete K.state;for(var l=0;l<s.length;l+=2)for(var c in s[l])if(s[l].hasOwnProperty(c))if("function"==typeof s[l][c])s[l+1][c]=s[l][c];else{var f=r(s[l],c,s[l][c]);if(!i(s[l+1],c,f,function(e,t){t===P&&(m.history=P=s[l+1]=e)}))return D(j+"hashchange",u,!1),!1;s[l+1]===m&&(H[c]=H[c.substr(2)]=[])}return P.setup(),$.redirect&&P.redirect(),$.init&&(F=1),!N&&_&&n(),S||y[A](j+"click",h,!1),"complete"===y.readyState?p(!0):(S||t()._relative===$.basepath||(U=!0),C(j+"load",p,!1)),!0}var m=("object"==typeof window?window:this)||{};if(!m.history||"emulate"in m.history)return m.history;var y=m.document,x=y.documentElement,w=m.Object,_=m.JSON,b=m.location,E=m.history,P=E,L=E.pushState,O=E.replaceState,S=!!L,N="state"in E,T=w.defineProperty,k=i({},"t")?{}:y.createElement("a"),j="",A=m.addEventListener?"addEventListener":(j="on")&&"attachEvent",I=m.removeEventListener?"removeEventListener":"detachEvent",B=m.dispatchEvent?"dispatchEvent":"fireEvent",C=m[A],D=m[I],R=m[B],$={basepath:"/",redirect:0,type:"/",init:0},G="__historyAPI__",q=y.createElement("a"),M=b.href,z="",V=1,U=!1,F=0,Q={},H={},J=y.title,W={onhashchange:null,onpopstate:null},X=function(e,t){var n=m.history!==E;n&&(m.history=E),e.apply(E,t),n&&(m.history=P)},K={setup:function(e,t,n){$.basepath=(""+(null==e?$.basepath:e)).replace(/(?:^|\/)[^\/]*$/,"/"),$.type=null==t?$.type:t,$.redirect=null==n?$.redirect:!!n},redirect:function(e,n){if(P.setup(n,e),n=$.basepath,m.top==m.self){var i=t(null,!1,!0)._relative,r=b.pathname+b.search;S?(r=r.replace(/([^\/])$/,"$1/"),i!=n&&new RegExp("^"+n+"$","i").test(r)&&b.replace(i)):r!=n&&(r=r.replace(/([^\/])\?/,"$1/?"),new RegExp("^"+n,"i").test(r)&&b.replace(n+"#"+r.replace(new RegExp("^"+n,"i"),$.type)+b.hash))}},pushState:function(e,t,n){var i=y.title;null!=J&&(y.title=J),L&&X(L,arguments),f(e,n),y.title=i,J=t},replaceState:function(e,t,n){var i=y.title;null!=J&&(y.title=J),delete Q[b.href],O&&X(O,arguments),f(e,n,!0),y.title=i,J=t},location:{set:function(e){0===F&&(F=1),m.location=e},get:function(){return 0===F&&(F=1),S?b:k}},state:{get:function(){return Q[b.href]||null}}},Y={assign:function(e){0===(""+e).indexOf("#")?f(null,e):b.assign(e)},reload:function(){b.reload()},replace:function(e){0===(""+e).indexOf("#")?f(null,e,!0):b.replace(e)},toString:function(){return this.href},href:{get:function(){return t()._href}},protocol:null,host:null,hostname:null,port:null,pathname:{get:function(){return t()._pathname}},search:{get:function(){return t()._search}},hash:{set:function(e){f(null,(""+e).replace(/^(#|)/,"#"),!1,M)},get:function(){return t()._hash}}};return v()?(P.emulate=!S,m[A]=o,m[I]=a,m[B]=s,P):void 0}),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,a=Math.max(1-(1-e)/t*(100-o),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return u[r]||(p.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",p.cssRules.length),u[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<f.length;i++)if(n=f[i]+t,void 0!==r[n])return n;return void 0!==r[t]?t:void 0}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function a(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=o(e||{},s.defaults,d)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:f+" "+f,coordorigin:-c+" "+-c}),{width:f,height:f})}function s(e,s,l){t(p,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~s}),t(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:a(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,f=2*c,u=2*-(i.width+i.length)+"px",p=r(o(),{position:"absolute",top:u,left:u});if(i.shadow)for(l=1;l<=i.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)s(l);return t(e,p)},s.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,f=["webkit","Moz","ms","O"],u={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};s.defaults={},o(s.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(r(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var a,s=0,l=(i.lines-1)*(1-i.direction)/2,f=i.fps,u=f/i.speed,p=(1-i.opacity)/(u*i.trail/100),d=u/i.lines;!function h(){s++;for(var e=0;e<i.lines;e++)a=Math.max(1-(s+(i.lines-e)*d)%u*p,i.opacity),n.opacity(o,e*i.direction+l,a,i);n.timeout=n.el&&setTimeout(h,~~(1e3/f))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function s(t,n){return r(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*f+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,f=0,u=(o.lines-1)*(1-o.direction)/2;f<o.lines;f++)l=r(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,u+f*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,r(s("#000","0 0 4px #000"),{top:"2px"})),t(i,t(l,s(a(o.color,f),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var h=r(e("group"),{behavior:"url(#default#VML)"});return!i(h,"transform")&&h.adj?l():c=i(h,"animation"),s}),function(e){if("object"==typeof exports)e(require("jquery"),require("spin.js"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,t){e.fn.spin=function(n,i){return this.each(function(){var r=e(this),o=r.data();o.spinner&&(o.spinner.stop(),delete o.spinner),n!==!1&&(n=e.extend({color:i||r.css("color")},e.fn.spin.presets[n]||n),o.spinner=new t(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});var PG8={};(function(e,t,n){"use strict";if("undefined"!=typeof PG8Data){var i=n.history.location||n.location,r=this.PageLoader=function(t){this.thisPage=parseInt(PG8Data.startPage),this.thisLink=i.href,this.nextPage=this.thisPage+1,this.nextLink=PG8Data.nextLink,this.maxPages=parseInt(PG8Data.maxPages),this.maxedOut=0,this.opts=e.extend({},e.fn.ajaxPageLoader.defaults,t),this.content=e(this.opts.contentSel),this.nextPage<=this.maxPages&&this.init()};r.prototype={init:function(){this.content.children().wrapAll('<div id="content-page-'+this.thisPage+'" class="clear" data-href="'+this.thisLink+'"></div>'),this.holder(),this.handler(),this.spinner()},holder:function(){this.content.append('<div id="content-page-'+this.nextPage+'" class="clear" data-href="'+this.nextLink+'"></div>')},handler:function(){var i=this,r=e(n);e("body").on("click",i.opts.nextSel,function(t){i.nextPage<=i.maxPages&&(t.preventDefault(),e(this).parents("nav:first").before(e("#spinner").show()),i.loader(i.nextPage,i.nextLink))}),r.on("scroll",this.content,function(){clearTimeout(e.data(this,"pushTimer")),clearTimeout(e.data(this,"infinTimer")),e.data(this,"pushTimer",setTimeout(function(){var t=i.content.children(":first"),n=t.offset().top,o=t.data("href"),a=r.scrollTop();n>=a?i.pusher(o):i.content.children().each(function(){var t=e(this),n=t.offset().top-i.opts.scrollOffset,r=t.outerHeight()+n;a>=n&&r>a&&i.pusher(t.data("href"))})},i.opts.pushDelay)),0===i.maxedOut&&e.data(this,"infinTimer",setTimeout(function(){var n=e(t),o=n.height(),a=r.height()+r.scrollTop(),s=i.content.children(":last").offset().top,l=o-a;a>s+i.opts.scrollOffset&&a<=s+i.opts.scrollOffset+i.opts.infinOffset&&l>=i.opts.infinFooter&&e(i.opts.nextSel).trigger("click")},i.opts.infinDelay))})},spinner:function(){e.isFunction(n.Spinner)&&(this.content.after('<div id="spinner" style="position: relative;"></div>'),e("#spinner").spin(this.opts.spinOpts).hide())},pusher:function(e){"undefined"!=typeof e&&e!==i.href&&history.pushState(null,null,e)},loader:function(t,n){var r=this;e("#content-page-"+t).load(n+" "+r.opts.contentSel+" > *",function(){var o=e(r.opts.nextSel);r.thisPage=t,r.thisLink=n,r.nextPage=t+1,r.nextLink=n.replace(/\/page\/[0-9]?/,"/page/"+r.nextPage),r.pusher(r.thisLink),r.holder(),r.nextPage>r.maxPages?(o.remove(),r.maxedOut=1):e("a",o).attr("href",r.nextLink),e("#spinner").hide(),r.loaded(),r.scroll(),r.analytics("/"+i.href.replace(r.root(),""))})},loaded:function(){var e=t.createEvent("Event");e.initEvent("DOMContentLoaded",!0,!0),n.document.dispatchEvent(e)},scroll:function(){var t=e("#content-page-"+this.thisPage).children(":first").offset().top-this.opts.scrollOffset;e("body, html").animate({scrollTop:t},this.opts.scrollDelay,"swing")},analytics:function(e){"undefined"!=typeof n.ga?n.ga("send","pageview",e):"undefined"!=typeof n._gaq&&n._gaq.push(["_trackPageview",e])},root:function(){var e=t.location.port?":"+t.location.port:"",n=t.location.protocol+"//"+(t.location.hostname||t.location.host)+e+"/";return n}},e.fn.ajaxPageLoader=function(t){return this.each(function(){e.data(this,"ajaxPageLoader")||e.data(this,"ajaxPageLoader",new r(t))})},e.fn.ajaxPageLoader.defaults={contentSel:"main",nextSel:".nav-next",scrollDelay:300,scrollOffset:30,pushDelay:250,infinDelay:600,infinOffset:300,infinFooter:1,spinOpts:{lines:25,length:0,width:4,radius:25,speed:1.5,trail:40,top:"15px"}}}}).apply(PG8,[jQuery,document,window]),function(e){e(function(){e(document.body).ajaxPageLoader()})}(jQuery),function(e,t,n,i,r){function o(t,n){if(n){var i=n.getAttribute("viewBox"),r=e.createDocumentFragment(),o=n.cloneNode(!0);for(i&&t.setAttribute("viewBox",i);o.childNodes.length;)r.appendChild(o.childNodes[0]);t.appendChild(r)}}function a(){var t=this,n=e.createElement("x"),i=t.s;n.innerHTML=t.responseText,t.onload=function(){i.splice(0).map(function(e){o(e[0],n.querySelector("#"+e[1].replace(/(\W)/g,"\\$1")))})},t.onload()}function s(){for(var r;r=t[0];){var l=r.parentNode,c=r.getAttribute("xlink:href").split("#"),f=c[0],u=c[1];if(l.removeChild(r),f.length){var p=i[f]=i[f]||new XMLHttpRequest;p.s||(p.s=[],p.open("GET",f),p.onload=a,p.send()),p.s.push([l,u]),4===p.readyState&&p.onload()}else o(l,e.getElementById(u))}n(s)}r&&s()}(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537),function(e){"use strict";e.fn.iconize=function(t,n,i){var r,o,a,s=e(this);return"undefined"!=typeof n&&(n='<title id="title">'+n+"</title>"),"undefined"!=typeof i&&(i='<desc id="desc">'+i+"</desc>"),"undefined"!=typeof n&&"undefined"!=typeof i?r=' aria-labelledby="title desc"':"undefined"!=typeof n?r=' aria-labelledby="title"':"undefined"!=typeof i&&(r=' aria-labelledby="desc"'),t.substr("-")&&(o=t.split("-"),o=" icon-"+o[0]),"undefined"!=typeof pendrellVars.iconsUrl&&(a=pendrellVars.iconsUrl),s.prepend('<svg class="icon'+o+" icon-"+t+'"'+r+">"+n+i+'<use xlink:href="'+a+"#i-"+t+'"></use></svg>'),this}}(jQuery),function(){var e=document.getElementById("site-navigation"),t=e.getElementsByTagName("ul")[0],n=document.getElementById("menu-toggle");if(e&&"undefined"!=typeof n)return"undefined"==typeof t?void(n.style.display="none"):void(n.onclick=function(){-1!==n.className.indexOf("toggled")?n.className=n.className.replace(" toggled",""):n.className+=" toggled",-1!==e.className.indexOf("toggled")?e.className=e.className.replace(" toggled",""):e.className+=" toggled"})}(),function(){var e=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,t=navigator.userAgent.toLowerCase().indexOf("opera")>-1,n=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(e||t||n)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=document.getElementById(location.hash.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)}(),function(e){e(function(){})}(jQuery);