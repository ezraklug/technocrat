// ==== LAYOUT ==== //

// == WRAPPERS == //

// These wrappers allow for backgrounds and layout options to be defined for each of the four sections (header, content, sidebar, and footer)
// There is also a fifth meta-wrapper to bind content and sidebar on large screens

// A general wrapper for various site elements
%wrap {
  box-sizing: border-box; // Makes life a little easier
  @include respond-to("small") {
    @include rem("padding-left", $spacer/2);
    @include rem("padding-right", $spacer/2);
  }
  @include respond-to("small-medium") {
    @include rem("padding-left", $spacer);
    @include rem("padding-right", $spacer);
  }
  @include respond-to("medium") {
    @include rem("padding-left", $spacer*1.5);
    @include rem("padding-right", $spacer*1.5);
  }
}
#wrap-header {
  @extend %wrap;
  @include rem("padding-top", $spacer);
  position: relative; // Contains #site-interface, which is absolutely positioned
}
#wrap-main { // Wrapper around content and sidebar
  @extend %clearfix;
  @include respond-to("large") {
    @include k-center-block($content-width);
    @include rem("padding-left", $spacer*1.5);
    @include rem("padding-right", $spacer*1.5);
  }
}
#wrap-content {
  @extend %wrap;
  @include rem("padding-top", $spacer);
  @include rem("padding-bottom", $spacer);
  @include respond-to("large") {
    @include rem("padding-right", $spacer);
    float: left;
    padding-left: 0;
    width: percentage( ( $main-width + $spacer ) / $content-width );
    @if $full-width == true { // Only output this if the current theme supports a full-width view
      .full-width & {
        float: none;
        padding-right: 0;
        width: 100%;
      }
    }
  }
}
#wrap-sidebar {
  @extend %wrap;
  @include rem("padding-top", $spacer);
  @include rem("padding-bottom", $spacer);
  @include respond-to("large") {
    @include rem("padding-left", $spacer);
    float: right;
    padding-right: 0;
    width: percentage( 1 - ( ( $main-width + $spacer ) / $content-width ) );
    @if $full-width == true { // Only output this if the current theme supports a full-width view
      .full-width & {
        float: none;
        padding-left: 0;
        width: 100%;
      }
    }
  }
}
#wrap-footer {
  @extend %wrap;
  position: relative; // For use with the "Back to top" button
}



// == HEADER == //

.site-header {
  @include k-center-block($content-width);
}
.site-title {
  @extend %clearfix-below;
  @include font-size($s-header);
  @include font-style("site-title");
  @include respond-to("medium") {
    @include font-size($s-header-title);
  }
  a {
    color: $c-site-title;
    display: inline-block;
    text-decoration: none;
    &:hover {
      color: $c-link-h;
    }
  }
}
.site-description {
  @extend %clearfix-below;
  @include font-size($s-text-smaller);
  @include font-style("site-description");
  color: $c-site-desc;
  opacity: 0;
  transition: opacity .8s ease-out;
  @include k-media-below($b-medium) {
    @include hide; // Hide the site description on smaller screens
  }
}
.site-branding {
  @include rem("padding-bottom", $spacer/2);
  &:hover .site-description { // Show site description on hover
    opacity: 1;
    transition: opacity .5s ease;
  }
}



// == CONTENT == //

.site-content {
  @extend %clearfix-below;
  max-width: $main-width; // Keeps content contained regardless of whether sidebar appears
  @include full-width {
    max-width: $content-width;
  }

  // Individual articles within the content area
  article {
    @include rem("margin-bottom", $spacer*3);
  }
}
main {
  @extend %clearfix; // Mainly for gallery view (in which main is filed with floating figure elements)
}



// == SIDEBAR == //

.widget-area {
  max-width: $main-width;
  @include k-media-between($b-small, $b-large) {
    column-count: 2;
    @include rem("column-gap", $spacer*2);
    .widget {
      break-inside: avoid;
    }
  }
}



// == FOOTER == //

.site-footer {
  @include k-center-block($content-width);
  @include link-stylist($c-footer-link, $c-footer-link-v, $c-footer-link-h, $c-footer-link-a, $c-footer-link-f, $link-border: false);
  @include rem("padding-bottom", $spacer);
  color: $c-footer;
}
.site-footer-buttons {
  @extend %button-container;
  @include respond-to("medium") {
    @include hide;
  }
}
.site-footer-info {
  @include font-size($s-text-smallest);
}
