// ==== SELECTRIC ==== //

// For use with: https://lcdsantos.github.io/jQuery-selectric/index.html
@mixin selectric {

  // Click here to open the select menu
  .s3c {
    @include border-radius;
    @include box-shadow-inner-small;
    @include font-style(input);
    @include rem( padding, 0 6px );
    background: colour(field-bg);
    border: 1px solid colour(field-b);
    box-sizing: border-box;
    color: lighten( colour(text), 23 );
    height: spacer();
    transition: all .67s ease;
    width: 100%;
    p.label { // This element/class combo cannot be configured :|
      @include font-size( text-smaller, 2 );
      @include text-shadow-small;
      display: inline-block;
      margin: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    svg.icon {
      @include icon-size-inline;
      @include icon-right;
      @include text-shadow-small-svg;
    }
    .s3cHover & {
      background: colour(field-bg-h);
      color: colour(field-h);
      transition: all .23s ease-in;
    }
    .s3cOpen &,
    .s3cOpen.s3cHover & {
      @include border-radius( $radius $radius 0 0 );
      background: colour(field-bg-a);
      color: colour(field-a);
      p.label {
        opacity: .5;
      }
    }
    .s3cOpen.s3cAbove & {
      @include border-radius( 0 0 $radius $radius );
    }
  }

  // Dropdown menu
  .s3cItems {
    @include border-radius( 0 0 $radius $radius );
    @include box-shadow-inner-small;
    @include font-style(input);
    @include k-absolute( top 100% left 0 );
    @include text-shadow-small;
    box-sizing: border-box; // Keeps the scrollbar in place
    background: colour(select-bg);
    border: 1px solid colour(field-b);
    border-top-width: 0px;
    color: colour(select);
    display: none;
    outline: 0;
    z-index: -1;
    .s3cAbove & {
      @include border-radius( $radius $radius 0 0 );
      border-top-width: 1px;
      border-bottom-width: 0px;
      bottom: 100%;
      top: auto;
    }
    .s3cDrop {
      height: 100%;
      overflow: auto; // Overrides the specificity of widget margin declaration
      ul,
      li {
        margin: 0;
      }
      li {
        min-height: 25px;
        line-height: 25px;
      }
    }
    li {
      @include rem( padding, 0 6px );
      transition: all .08s ease;
      &.selected {
        background: colour(select-bg-a);
        color: colour(select-a);
      }
      &:hover {
        background: colour(select-bg-h);
        color: colour(select-h);
        text-shadow: none;
        transition: all .19s ease;
      }
    }
    .disabled {
      @extend %disabled;
    }
  }

  // Wrapper for the entire select unit
  .s3cWrap {
    cursor: pointer;
    max-width: 80%;
    position: relative;
  }
  .s3cHover {}
  .s3cOpen {
    z-index: 99;
    .s3cItems {
      display: block;
    }
  }
  .s3cDisabled {
    @extend %disabled;
  }
  .s3cGroup { // Not implemented
    .s3cGroupLabel {}
    &.disabled li {}
  }
  .s3cHide {
    @extend %hide; // This hides the original `select` element
  }

  // Needed for the script, doesn't appear on the screen
  .s3cInput {
    @extend %off-screen;
    margin: 0;
    padding: 0;
  }

  // Unsure what this is but it looks nasty
  .s3cTempShow {
    display: block !important;
    position: absolute !important;
    visibility: hidden !important;
  }
}
